<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Introducing Lollipop, a sweet new take on Android.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Incubation</title>
    
    <!-- Page styles -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css"> <!-- Gem style -->
    <script src="js/modernizr.js"></script>
    <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.min.css">


<script src="script/material.min.js"></script>
    <script src="https://cdn.firebase.com/js/client/2.2.9/firebase.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <script src="script/vex.combined.min.js"></script>
    
<script>vex.defaultOptions.className = 'vex-theme-os';</script>
<link rel="stylesheet" href="css/vex.css" />
<link rel="stylesheet" href="css/vex-theme-os.css" />

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="css/custom.css">
    <style>
    #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
    }

}
        /* disable login clicks */
.disable_a_href{
    pointer-events: none;
}
    </style>

  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

      <div class="android-header mdl-layout__header mdl-layout__header--waterfall">
        <div class="mdl-layout__header-row">
          <span class="android-title mdl-layout-title">
          
            <img class="android-logo-image" src="images/android-logo.png">
          </span>
          
          <div class="android-header-spacer mdl-layout-spacer"></div>
          <div class="android-search-box mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right mdl-textfield--full-width">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="search-field">
              <i class="material-icons">search</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <input class="mdl-textfield__input" type="text" id="search-field" />
            </div>
          </div>
          Navigation
          <div class="android-navigation-container">
            <nav class="android-navigation mdl-navigation">
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">Home</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">Events</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">Contests</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">Ideas</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">Discussion</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">About</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="">Our Team</a>
            </nav>
          </div>
          <button class="android-more-button mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect" id="more-button">
            <i class="material-icons">more_vert</i>
          </button>
          <ul class="mdl-menu mdl-js-menu mdl-menu--bottom-right mdl-js-ripple-effect" for="more-button">
            <li class="mdl-menu__item admin-loggin"><a class="cd-signin" onclick="admin_signin()">Admin Login</a></li>
            <li class="mdl-menu__item"><a class="cd-signin" onclick="signup()">Signup with Faceboo</a></li>
            <li class="mdl-menu__item"><a href="#0" onclick="login()">Login</a></li>
            <li disabled class="mdl-menu__item logged-profile">Profile</li>
            <li class="mdl-menu__item">Events</li>
          </ul>
          <span class="android-mobile-title mdl-layout-title">
            <img class="android-logo-image" src="images/android-logo.png">
          </span>
        </div>
      </div>

<!--Sign in / Sign up Modal window-->



<!-- Side drawer navigation menu-->

      <div class="android-drawer mdl-layout__drawer">
        <span class="mdl-layout-title">
          <i class="fa fa-connectdevelop fa-2x"></i>
        </span>
        <nav class="mdl-navigation">
          <a class="mdl-navigation__link" href="">Robotics</a>
          <a class="mdl-navigation__link" href="">App Development</a>
          <a class="mdl-navigation__link" href="">Technical Debates</a>
          <a class="mdl-navigation__link" href="">Web Development</a>
          <a class="mdl-navigation__link" href="">CodingArena</a>
          <a class="mdl-navigation__link" href="">Best From Waste</a>
          <a class="mdl-navigation__link" href="">Bridge Buiding</a>
          <div class="android-drawer-separator"></div>
          <span class="mdl-navigation__link" href="">Workshops</span>
          <a class="mdl-navigation__link" href="">Deveoper Conferences</a>
          <a class="mdl-navigation__link" href="">Construction</a>
          <a class="mdl-navigation__link" href="">Circuits and Devices</a>
          <a class="mdl-navigation__link" href="">Android history</a>
          <div class="android-drawer-separator"></div>
          <span class="mdl-navigation__link" href="">Resources</span>
          <a class="mdl-navigation__link" href="">Official blog</a>
          <a class="mdl-navigation__link" href="">Android on Google+</a>
          <a class="mdl-navigation__link" href="">Android on Twitter</a>
          <div class="android-drawer-separator"></div>
          <span class="mdl-navigation__link" href="">For developers</span>
          <a class="mdl-navigation__link" href="">App developer resources</a>
          <a class="mdl-navigation__link" href="">Android Open Source Project</a>
          <a class="mdl-navigation__link" href="">Android SDK</a>
        </nav>
      </div>

      <div class="android-content mdl-layout__content" id="whole-page">
        <a name="top"></a>
        <div class="android-be-together-section mdl-typography--text-center">

          <div class="android-font android-slogan"><i class="fa fa-connectdevelop fa-2x"></i>Incubation</div>
          <div class="android-font android-sub-slogan">Ideate :: Innovate :: Create</div>
          <div class="android-font android-create-character">
            <a href=""><img src="images/andy.png">An SKFGI Initiative</a>

          </div>

          <a href="#screens">
            <button class="android-fab mdl-button mdl-button--colored mdl-js-button mdl-button--fab mdl-js-ripple-effect">
              <i class="material-icons">expand_more</i>
            </button>
          </a>
        </div>
        <div class="android-screen-section mdl-typography--text-center">
          <a name="screens"></a>
          <div class="mdl-typography--display-1-color-contrast">Expand the boundaries of your imagination</div>
          <div class="android-screens">
            <div class="android-wear android-screen">
              <a class="android-image-link" href="">
                <img class="android-screen-image" src="images/wear-silver-on.png">
                <img class="android-screen-image" src="images/wear-black-on.png">
              </a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="">Robotics</a>
            </div>
            <div class="android-phone android-screen">
              <a class="android-image-link" href="">
                <img class="android-screen-image" src="images/nexus6-on.png">
              </a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="">Quiz</a>
            </div>
            <div class="android-tablet android-screen">
              <a class="android-image-link" href="">
                <img class="android-screen-image" src="images/nexus9-on.jpg">
              </a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="">CodeArena</a>
            </div>
            <div class="android-tv android-screen">
              <a class="android-image-link" href="">
                <img class="android-screen-image" src="images/tv-on.png">
              </a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="">Dev Conferences</a>
            </div>
            <div class="android-auto android-screen">
              <a class="android-image-link" href="">
                <img class="android-screen-image" src="images/auto-on.png">
              </a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase mdl-typography--text-left" href="">Coming Soon: Internships</a>
            </div>
          </div>
        </div>
        <div class="android-wear-section">
          <div class="android-wear-band">
            <div class="android-wear-band-text">
              <div class="mdl-typography--display-2 mdl-typography--font-thin">We also have cultural fests</div>
              <p class="mdl-typography--headline mdl-typography--font-thin">
                Incubation is the most awaited event for the budding engineers and innovators.
              </p>
              <p>
                <a class="mdl-typography--font-regular mdl-typography--text-uppercase android-alt-link" href="">
                  Explore the Events&nbsp;<i class="material-icons">chevron_right</i>
                </a>
              </p>
            </div>
          </div>
        </div>
        <div class="android-customized-section">
          <div class="android-customized-section-text">
            <div class="mdl-typography--font-light mdl-typography--display-1-color-contrast">Let your imagination run wild</div>
            <p class="mdl-typography--font-light">
              Join Incubation by SKFGI and be a part of the innovators of the future.
              <br>
              <a href="" class="android-link mdl-typography--font-light">Explore More</a>
            </p>
          </div>
          <div class="android-customized-section-image"></div>
        </div>
        <div class="android-more-section">
          <div class="android-section-title mdl-typography--display-1-color-contrast">Some Highlights</div>
          <div class="android-card-container mdl-grid">
            <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--3dp">
              <div class="mdl-card__media">
                <img src="images/more-from-1.png">
              </div>
              <div class="mdl-card__title">
                 <h4 class="mdl-card__title-text">Get your gray matter</h4>
              </div>
              <div class="mdl-card__supporting-text">
                <span class="mdl-typography--font-light mdl-typography--subhead">We organize fun Quiz</span>
              </div>
              <div class="mdl-card__actions">
                 <a class="android-link mdl-button mdl-js-button mdl-typography--text-uppercase" href="">
                   Register for Quiz 2015
                   <i class="material-icons">chevron_right</i>
                 </a>
              </div>
            </div>

            <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--3dp">
              <div class="mdl-card__media">
                <img src="images/more-from-4.png">
              </div>
              <div class="mdl-card__title">
                 <h4 class="mdl-card__title-text">Maker Bot</h4>
              </div>
              <div class="mdl-card__supporting-text">
                <span class="mdl-typography--font-light mdl-typography--subhead">Make a bot and show us what you got</span>
              </div>
              <div class="mdl-card__actions">
                 <a class="android-link mdl-button mdl-js-button mdl-typography--text-uppercase" href="">
                   Register for Maker Bot 2015
                   <i class="material-icons">chevron_right</i>
                 </a>
              </div>
            </div>

            <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--3dp">
              <div class="mdl-card__media">
                <img src="images/more-from-2.png">
              </div>
              <div class="mdl-card__title">
                 <h4 class="mdl-card__title-text">DEVCon</h4>
              </div>
              <div class="mdl-card__supporting-text">
                <span class="mdl-typography--font-light mdl-typography--subhead">Every year we organize dev conferences to help students stay updated of the current trends in the Tech World</span>
              </div>
              <div class="mdl-card__actions">
                 <a class="android-link mdl-button mdl-js-button mdl-typography--text-uppercase" href="">
                   Get Tickets for DEVCon 2015
                   <i class="material-icons">chevron_right</i>
                 </a>
              </div>
            </div>

            <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--3dp">
              <div class="mdl-card__media">
                <img src="images/more-from-3.png">
              </div>
              <div class="mdl-card__title">
                 <h4 class="mdl-card__title-text">Cash prizes to be won</h4>
              </div>
              <div class="mdl-card__supporting-text">
                <span class="mdl-typography--font-light mdl-typography--subhead">You can win a lot prizes in the contests</span>
              </div>
              <div class="mdl-card__actions">
                 <a class="android-link mdl-button mdl-js-button mdl-typography--text-uppercase" href="">
                   Find apps
                   <i class="material-icons">chevron_right</i>
                 </a>
              </div>
            </div>
          </div>
        </div>

        <footer class="android-footer mdl-mega-footer">
          <div class="mdl-mega-footer--top-section">
            <div class="mdl-mega-footer--left-section">
              <button class="mdl-mega-footer--social-btn"></button>
              &nbsp;
              <button class="mdl-mega-footer--social-btn"></button>
              &nbsp;
              <button class="mdl-mega-footer--social-btn"></button>
            </div>
            <div class="mdl-mega-footer--right-section">
              <a class="mdl-typography--font-light" href="#top">
                Back to Top
                <i class="material-icons">expand_less</i>
              </a>
            </div>
          </div>

          <div class="mdl-mega-footer--middle-section">
            <p class="mdl-typography--font-light">Satellite imagery: © 2014 Astrium, DigitalGlobe</p>
            <p class="mdl-typography--font-light">Some features and devices may not be available in all areas</p>
          </div>

          <div class="mdl-mega-footer--bottom-section">
            <a class="android-link android-link-menu mdl-typography--font-light" id="version-dropdown">
              Versions
              <i class="material-icons">arrow_drop_up</i>
            </a>
            <ul class="mdl-menu mdl-js-menu mdl-menu--top-left mdl-js-ripple-effect" for="version-dropdown">
              <li class="mdl-menu__item">Dummy</li>
              <li class="mdl-menu__item">Dummy</li>
              <li class="mdl-menu__item">Dummy</li>
              <li class="mdl-menu__item">Dummy</li>
            </ul>
            <a class="android-link android-link-menu mdl-typography--font-light" id="developers-dropdown">
              For Developers
              <i class="material-icons">arrow_drop_up</i>
            </a>
            <ul class="mdl-menu mdl-js-menu mdl-menu--top-left mdl-js-ripple-effect" for="developers-dropdown">
              <li class="mdl-menu__item">Dummy</li>
              <li class="mdl-menu__item">Dummy</li>
              <li class="mdl-menu__item">Dummy</li>
              <li class="mdl-menu__item">Dummy</li>
            </ul>
            <a class="android-link mdl-typography--font-light" href="">Blog</a>
            <a class="android-link mdl-typography--font-light" href="">Privacy Policy</a>
          </div>

        </footer>
      </div>
    </div>
    <!-- <a href="https://github.com/google/material-design-lite/blob/master/templates/android-dot-com/" target="_blank" id="view-source" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-color--accent mdl-color-text--accent-contrast">View Source</a> -->
    

    <script>
    
        /////////////////////////////////////////////////////////////
        //model for the user//
        /*var person = {
            uid:data.roll_no,
            details:{
                email:data.email,
                password:data.password,
                stream:data.stream,
                year:data.year
            }
        }*/


        /*$('.hide-password').on('click', function(){
  var $this= $(this),
    $password_field = $this.prev('input');
    
    ( 'password' == $password_field.attr('type') ) ? $password_field.attr('type', 'text') : $password_field.attr('type', 'password');
    ( 'Hide' == $this.text() ) ? $this.text('Show') : $this.text('Hide');
    //focus and move cursor to the end of input field
    $password_field.putCursorAtEnd();
});*/


var ref;
var data_ref;

function signup(){
        vex.dialog.open({

//defaultOptions:[showCloseButton: true],

    overlayClosesOnClick: false,

  message: 'Enter your Email and Password:',
  input: "<label>Email:</label><input name=\"email\" type=\"text\" placeholder=\"Email\" required />\n<label>Password:</label><input name=\"password\" type=\"password\" placeholder=\"Password\" required />\n<label>Join Year:</label><input name=\"join\" type=\"number\" max=\"2015\" min=\"2008\" required/><label>Stream</label>\n<input name=\"dept\" type=\"radio\" value=\"CSE\" checked>CSE\n<input name=\"dept\" type=\"radio\" value=\"ME\">ME\n<input name=\"dept\" type=\"radio\" value=\"ECE1\">ECE1\n<input name=\"dept\" type=\"radio\" value=\"ECE2\">ECE2\n<input name=\"dept\" type=\"radio\" value=\"CE\" >CE\n<input name=\"dept\" type=\"radio\" value=\"AEIE\" >AEIE\n<label>WBUT Roll No:</label><input name=\"roll_no\" type=\"number\" max=\"9999999999\" />",
  
  buttons: [
    $.extend({}, vex.dialog.buttons.YES, {
      text: 'Login with Facebook'
    }), $.extend({}, vex.dialog.buttons.NO, {
      text: 'Cancel'
    }),
  ],

  callback: function(data) {
    if (data === false) {
      return console.log('Cancelled');
    }else {
ref = new Firebase("https://sizzling-torch-3500.firebaseio.com");

    ref.authWithOAuthPopup("facebook", function(error, authData) {
  if (error) {
    console.log("Login Failed!", error);
  } else {
    data_ref = data;
    userCreation_normal(data.email,data.password);
    //ref.set({email:data.email,password:data.password});

    //alert(authData.facebook.displayName);
  }
});
    //return console.log('Username', data.email, 'Password', data.password);
}
  }

});
    //$('cd-user-modal').toggleClass('.is-visible');
/*ref = new Firebase("https://sizzling-torch-3500.firebaseio.com");
ref.authWithOAuthPopup("facebook", function(error, authData) {
  if (error) {
    console.log("Login Failed!", error);
  } else {
    console.log(authData);
  }
});*/

} //signup method

function login(){
        vex.dialog.open({

//defaultOptions:[showCloseButton: true],

    overlayClosesOnClick: false,

  message: 'Enter your Email and Password:',
  input: "<label>Email:</label><input name=\"email\" type=\"text\" placeholder=\"Email\" required />\n<label>Password:</label><input name=\"password\" type=\"password\" placeholder=\"Password\" required />",
  
  buttons: [
    $.extend({},vex.dialog.buttons.YES,{text:'Sign In with Facebook'}),
    $.extend({}, vex.dialog.buttons.YES, {
      text: 'Login'
    }), $.extend({}, vex.dialog.buttons.NO, {
      text: 'Cancel'
    }),
  ],

  callback: function(data) {
    if (data === false) {
      return console.log('Cancelled');
    }else {
ref = new Firebase("https://sizzling-torch-3500.firebaseio.com");

ref.authWithPassword({
  "email": data.email,
  "password": data.password
}, function(error, authData) {
  if (error) {
    console.log("Login Failed!", error);
  } else {
    console.log("Authenticated successfully with payload:", authData);
    jQuery('.logged-profile').removeAttr('disabled');
    jQuery('.logged-profile').text('Welcome');
    //jQuery('.admin-loggin').addClass('disable_a_href');
    jQuery('.admin-loggin').text('Sign Out');
    jQuery('.admin-loggin').click(function(a,b){prompt("Are you sure you want to signout ? ");});
    jQuery('.logged-profile').attr('href','dashboard/dashboard.html');
    window.location.assign("dashboard.html")
    /*jQuery('.logged-profile').click(function () { 

    jQuery('#whole-page').load('dashboard.html',authData); 
});*/

  }
});
//console.log(ref);
    }
}
    //return console.log('Username', data.email, 'Password', data.password);

});
    //$('cd-user-modal').toggleClass('.is-visible');
/*ref = new Firebase("https://sizzling-torch-3500.firebaseio.com");
ref.authWithOAuthPopup("facebook", function(error, authData) {
  if (error) {
    console.log("Login Failed!", error);
  } else {
    console.log(authData);
  }
});*/

} //signup method

function userCreation_normal(email, password){
                ref.createUser({
                    email    : email,
                    password : password
                    }, function(error, userData) {
                    if (error) {
                        console.log(error);
                        console.log("Trying to login with the same username and password");
                        //Incase the user already exists it tries to login with the same email and password
                        if(error.message == "The specified email address is already in use."){
                            console.log("True");
                            general_login(email, password);
                        }
                        else if(error.message == "The specified email address is invalid."){alert("Please enter a valid email address");signup();}
                       
                    } else {
                        console.log("Successfully created user account with uid:", userData.uid);
                        var usersRef = ref.child("users");
                        console.log(usersRef);
                        console.log($('input[name=dept]:checked').val());
                        usersRef.child(email.toLowerCase().replace(/\W+/g, "")).set({
                            //Initial time when the user is registered gets set.
                            registration_time: Firebase.ServerValue.TIMESTAMP,
                            user_name: data_ref.email,
                            reg_year: data_ref.join,
                            department: data_ref.join
                        });
                        console.log(usersRef);
                        //general_login(email, password);
                    }
                });
            }


function admin_signin() {

}

    </script>
  </body>
</html>
